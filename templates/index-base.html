<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Mirror</title>
    <link href="{{ url_for('static', filename='css/main.css') }}"
          rel="stylesheet" type="text/css">
    <link href="{{ url_for('static', filename='css/weather-icons.css') }}"
          rel="stylesheet" type="text/css">
    <link href='https://fonts.googleapis.com/css?family=Roboto:400,300,700'
          rel='stylesheet' type='text/css'>
</head>
<body>
<connectivity></connectivity>
<div id="content">
    <!-- Actual content is specified in the child template (index.html). -->
    <div class="left">
        {% block left %}{% endblock %}
    </div>
    <div class="right">
        {% block right %}{% endblock %}
    </div>
    <div class="bottom">
        {% block bottom %}{% endblock %}
    </div>
</div>

<!-- Riot tags and other plugin scripts. -->
{% for plugin_name, scripts in plugin_scripts.items() %}
    {% for filename, type in scripts %}
        {% if type == 'riot/tag' %} <!-- Pretty clunky. I think Riot 4 solves this data-src vs. src? -->
<script data-src="{{ url_for(plugin_name + '.static', filename=filename) }}" type="{{type}}"></script>
        {% else %}
<script src="{{ url_for(plugin_name + '.static', filename=filename) }}" type="{{type}}"></script>
        {% endif %}
    {% endfor %}
{% endfor %}

<script data-src="{{ url_for('static', filename='tag/clock.tag') }}" type="riot/tag"></script>

<!-- Common scripts available to all plugins. -->
<script src="{{ url_for('static', filename='js/riot+compiler.min.js') }}"></script>
<script src="{{ url_for('static', filename='js/jquery-2.2.0.min.js') }}"></script>
<script src="{{ url_for('static', filename='js/moment.min.js') }}"></script>
<script src="{{ url_for('static', filename='js/luxon.min.js') }}"></script>

<script src="{{ url_for('static', filename='js/main.js') }}"></script>

<script>
    riot.mount('*')
</script>

</body>
</html>
